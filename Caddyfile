# EVE SRP Caddy 配置文件
# 使用说明：
# 1. 将 "your-domain.com" 替换为你的实际域名
# 2. 将此文件复制到 C:\Caddy\Caddyfile
# 3. 运行：caddy run --config C:\Caddy\Caddyfile

your-domain.com {
    # 前端静态文件目录
    root * C:\Users\user\EVE\EVE-SRP\client\dist
    
    # API 反向代理到后端
    handle /api/* {
        reverse_proxy localhost:3001
    }
    
    # 前端 SPA 路由支持（所有其他请求返回 index.html）
    handle {
        try_files {path} /index.html
        file_server
    }
    
    # 日志配置（可选）
    log {
        output file C:\Caddy\logs\access.log
        format console
    }
}
